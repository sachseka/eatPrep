<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started • eatPrep</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eatPrep</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting Started</h1>
            
      

      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#remotes::install_github("https://github.com/sachseka/eatPrep")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sachseka.github.io/eatPrep/">eatPrep</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: readxl</span></span></code></pre></div>
<p>The goal of <code>eatPrep</code>, short for
<code>Educational Assesment Tools: Preparation</code>, is to automate
the preparation of item response test data; especially but not
exclusively for typical use cases at the <em>Institute for Educational
Quality Improvement</em> (IQB). Therefore it works together with
IQB-specific applications such as the <code>ItemDB</code> or
<code>ZKDeamon</code>.</p>
<p>The main purpose of <code>eatPrep</code> is to read, score, aggregate
and merge data from a regular <code>SPSS</code> (<code>.sav</code>) data
file (via the function <code><a href="../reference/readSpss.html">readSpss()</a></code>) and metadata from
databases (<code><a href="../reference/readDaemonXlsx.html">readDaemonXlsx()</a></code>) and Excel spreadsheets
(<code><a href="../reference/readMerkmalXlsx.html">readMerkmalXlsx()</a></code>). Additional functions include checking
the data (<code><a href="../reference/checkData.html">checkData()</a></code>), meta data
(<code><a href="../reference/checkInputList.html">checkInputList()</a></code>), and the design
(<code><a href="../reference/checkDesign.html">checkDesign()</a></code>), recoding of (missing) values
(<code><a href="../reference/recodeData.html">recodeData()</a></code>, <code><a href="../reference/mnrCoding.html">mnrCoding()</a></code>,
<code><a href="../reference/aggregateData.html">aggregateData()</a></code>,
<code><a href="../reference/scoreData.html">scoreData()</a></code>,<code><a href="../reference/collapseMissings.html">collapseMissings()</a></code>), working with
rater data (<code><a href="../reference/meanAgree.html">meanAgree()</a></code>, <code><a href="../reference/meanKappa.html">meanKappa()</a></code>),
evaluating item categories (<code><a href="../reference/cat.pbc.html">catPbc()</a></code>,
<code><a href="../reference/evalPbc.html">evalPbc()</a></code>) and exporting prepared or raw item data sets to
different formats (<code><a href="../reference/writeSpss.html">writeSpss()</a></code>, <code><a href="../reference/prep2gads.html">prep2GADS()</a></code>).
Most of this can be done with a single function call to
<code><a href="../reference/automateDataPreparation.html">automateDataPreparation()</a></code>.</p>
<p>In a prototypical scenario, we are constructing a test at the IQB,
e.g. for educational purposes. For our pilot study, we have created
several overlapping booklets and a variety of items with different item
formats (constructed response, multiple choice).<br>
Thereby, the data consists of several layers:</p>
<table class="table"><tbody>
<tr class="odd">
<td><strong>booklets</strong></td>
<td>containing blocks</td>
</tr>
<tr class="even">
<td><strong>blocks</strong></td>
<td>containing units (= items)</td>
</tr>
<tr class="odd">
<td><strong>units</strong></td>
<td>containing subunits/subitems</td>
</tr>
<tr class="even">
<td><strong>subunits</strong></td>
<td>having values and</td>
</tr>
<tr class="odd">
<td><strong>values</strong></td>
<td>including missings and recode values</td>
</tr>
</tbody></table>
<p>Now we would like to prepare the data collected in this way for
scaling. In doing so, we would like to know if the booklets are speeded
(number of mnr). Additionally, we intend to use different missing
treatments for the actual scaling, so we preserve missing values during
data preparation and recode them right before scaling the data.
<code>eatPrep</code> can help us with all of that.</p>
<p>As a reminder, here is an overview for different value types the IQB
uses:</p>
<table class="table">
<caption><strong>missing types</strong></caption>
<colgroup>
<col width="3%">
<col width="4%">
<col width="18%">
<col width="72%">
</colgroup>
<thead><tr class="header">
<th align="left">Code</th>
<th align="left">Label</th>
<th align="left">Abbr</th>
<th align="left">Explanation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">-98</td>
<td align="left">mir</td>
<td align="left">missing invalid response</td>
<td align="left">(1) Item was edited, and (2a) empty answer or (2b)
invalid (joke) answer.</td>
</tr>
<tr class="even">
<td align="left">-99</td>
<td align="left">mbo</td>
<td align="left">missing by omission</td>
<td align="left">Item wasn’t edited but seen, or wasn’t seen, but there
are seen or edited subsequent Items.</td>
</tr>
<tr class="odd">
<td align="left">-96</td>
<td align="left">mnr</td>
<td align="left">missing not reached</td>
<td align="left">(1) Item wasn’t seen, and (2) all subsequent Items
weren’t seen, either.</td>
</tr>
<tr class="even">
<td align="left">-97</td>
<td align="left">mci</td>
<td align="left">missing coding impossible</td>
<td align="left">(1) Item should/could have been edited, and (2) answer
can’t be analysed due to technical problems.</td>
</tr>
<tr class="odd">
<td align="left">-94</td>
<td align="left">mbd</td>
<td align="left">missing by design</td>
<td align="left">no answer, because Item wasn’t shown to the testperson
by design.</td>
</tr>
</tbody>
</table>
<!-- we also want to include additional information about the items (merkmalstabelle) -> PASST HIER EIGENTLICH GAR NICHT IN DIE DATENSTRUKTUR! --><!-- And here is some additional information about the **items**: -->
</div>
<div class="section level2">
<h2 id="input">Input<a class="anchor" aria-label="anchor" href="#input"></a>
</h2>
<p>Information/metadata about items is stored in many different ways,
e.g., databases, Excel sheets, sometimes even in item names.
<code>eatPrep</code> requires this metadata to have a specific form,
namely a series of relational tables. For <code>eatPrep</code> it is
most convenient to store these tables in a list. When downloading the
<code>eatPrep</code> package, you can find files with some example
tables in the <code>data</code> folder.</p>
<p>Sheets have specific names, also the columns in those sheets have
specific names.</p>
<p><code>inputMinimal</code> contains the bare minimum for all functions
in <code>eatPrep</code> to work, <code>inputList</code> contains
additional metadata about the items (such as information about the
task’s content).</p>
<!--Example: inputList ? -->
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: inputMinimal</span></span>
<span><span class="va">inputMinimal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>units <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">units</span><span class="op">[</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">inputList</span><span class="op">$</span><span class="va">units</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unit"</span>, <span class="st">"unitAggregateRule"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                     subunits <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">subunits</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unit"</span>, <span class="st">"subunit"</span>,<span class="st">"subunitRecoded"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                     values <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">values</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subunit"</span>, <span class="st">"value"</span>, <span class="st">"valueRecode"</span>, <span class="st">"valueType"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                     unitRecodings <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">unitRecodings</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unit"</span>, <span class="st">"value"</span>, <span class="st">"valueRecode"</span>, <span class="st">"valueType"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                     blocks <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">blocks</span>,</span>
<span>                     booklets <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">booklets</span>,</span>
<span>                     rotation <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">rotation</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="input-tables">Input tables<a class="anchor" aria-label="anchor" href="#input-tables"></a>
</h3>
<p>Let’s look at the tables from bottom to top, starting with items and
their values. In the values sheet, we define values and recode values
for each subitem.</p>
<p>Here we see 3 items (called units) from <code>inputList</code> bzw.
<code>inputMinimal</code>. One mc (item 1), one short response (item 5),
one item with 3 subitems short response (item 12)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I01"</span>, <span class="st">"I05"</span>, <span class="st">"I12"</span><span class="op">)</span></span>
<span><span class="va">subitems</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I01"</span>, <span class="st">"I05"</span>, <span class="st">"I12a"</span>, <span class="st">"I12b"</span>, <span class="st">"I12c"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">inputMinimal</span><span class="op">$</span><span class="va">units</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">inputMinimal</span><span class="op">$</span><span class="va">units</span><span class="op">$</span><span class="va">unit</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">items</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">unit</th>
<th align="left">unitAggregateRule</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">I01</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="left">I05</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">12</td>
<td align="left">I12</td>
<td align="left">SUM</td>
</tr>
</tbody>
</table>
<p>The <strong>values sheet</strong> contains all possible values for
each subitem and scoring information for each value (e.g., whether it is
true, false, or missing). There are several types of missing values.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">kable</span><span class="op">(</span><span class="va">inputMinimal</span><span class="op">$</span><span class="va">values</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">inputMinimal</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">subunit</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">subitems</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">subunit</th>
<th align="left">value</th>
<th align="left">valueRecode</th>
<th align="left">valueType</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">I01</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">I01</td>
<td align="left">2</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">I01</td>
<td align="left">3</td>
<td align="left">1</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">I01</td>
<td align="left">6</td>
<td align="left">mnr</td>
<td align="left">mnr</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">I01</td>
<td align="left">7</td>
<td align="left">mbd</td>
<td align="left">mbd</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">I01</td>
<td align="left">8</td>
<td align="left">mir</td>
<td align="left">mir</td>
</tr>
<tr class="odd">
<td align="left">7</td>
<td align="left">I01</td>
<td align="left">9</td>
<td align="left">mbi</td>
<td align="left">mbi</td>
</tr>
<tr class="even">
<td align="left">30</td>
<td align="left">I05</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">31</td>
<td align="left">I05</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">32</td>
<td align="left">I05</td>
<td align="left">6</td>
<td align="left">mnr</td>
<td align="left">mnr</td>
</tr>
<tr class="odd">
<td align="left">33</td>
<td align="left">I05</td>
<td align="left">7</td>
<td align="left">mbd</td>
<td align="left">mbd</td>
</tr>
<tr class="even">
<td align="left">34</td>
<td align="left">I05</td>
<td align="left">8</td>
<td align="left">mir</td>
<td align="left">mir</td>
</tr>
<tr class="odd">
<td align="left">35</td>
<td align="left">I05</td>
<td align="left">9</td>
<td align="left">mbi</td>
<td align="left">mbi</td>
</tr>
<tr class="even">
<td align="left">80</td>
<td align="left">I12a</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">81</td>
<td align="left">I12a</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">82</td>
<td align="left">I12a</td>
<td align="left">6</td>
<td align="left">mnr</td>
<td align="left">mnr</td>
</tr>
<tr class="odd">
<td align="left">83</td>
<td align="left">I12a</td>
<td align="left">7</td>
<td align="left">mbd</td>
<td align="left">mbd</td>
</tr>
<tr class="even">
<td align="left">84</td>
<td align="left">I12a</td>
<td align="left">8</td>
<td align="left">mir</td>
<td align="left">mir</td>
</tr>
<tr class="odd">
<td align="left">85</td>
<td align="left">I12a</td>
<td align="left">9</td>
<td align="left">mbi</td>
<td align="left">mbi</td>
</tr>
<tr class="even">
<td align="left">86</td>
<td align="left">I12b</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">87</td>
<td align="left">I12b</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">88</td>
<td align="left">I12b</td>
<td align="left">6</td>
<td align="left">mnr</td>
<td align="left">mnr</td>
</tr>
<tr class="odd">
<td align="left">89</td>
<td align="left">I12b</td>
<td align="left">7</td>
<td align="left">mbd</td>
<td align="left">mbd</td>
</tr>
<tr class="even">
<td align="left">90</td>
<td align="left">I12b</td>
<td align="left">8</td>
<td align="left">mir</td>
<td align="left">mir</td>
</tr>
<tr class="odd">
<td align="left">91</td>
<td align="left">I12b</td>
<td align="left">9</td>
<td align="left">mbi</td>
<td align="left">mbi</td>
</tr>
<tr class="even">
<td align="left">92</td>
<td align="left">I12c</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">93</td>
<td align="left">I12c</td>
<td align="left">2</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">94</td>
<td align="left">I12c</td>
<td align="left">3</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">95</td>
<td align="left">I12c</td>
<td align="left">4</td>
<td align="left">1</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">96</td>
<td align="left">I12c</td>
<td align="left">6</td>
<td align="left">mnr</td>
<td align="left">mnr</td>
</tr>
<tr class="odd">
<td align="left">97</td>
<td align="left">I12c</td>
<td align="left">7</td>
<td align="left">mbd</td>
<td align="left">mbd</td>
</tr>
<tr class="even">
<td align="left">98</td>
<td align="left">I12c</td>
<td align="left">8</td>
<td align="left">mir</td>
<td align="left">mir</td>
</tr>
<tr class="odd">
<td align="left">99</td>
<td align="left">I12c</td>
<td align="left">9</td>
<td align="left">mbi</td>
<td align="left">mbi</td>
</tr>
</tbody>
</table>
<!-- talk more about values in the data for different item types (mc, cr) and about missing values in the data. missing values do not need to be the same for each variable in the data.--><p>The <strong>subunits sheet</strong> contains information about the
relationship between subitems and items. This information is used to
aggregate subitems to items. If recoded subitems should be named
differently than the unrecoded variables in the original data, this can
be specified via <code>subunitRecoded</code>. The only type of
aggregation currently supported by <code>eatPrep</code> is to count the
number of correct subitems per item.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">kable</span><span class="op">(</span><span class="va">inputMinimal</span><span class="op">$</span><span class="va">subunits</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">inputMinimal</span><span class="op">$</span><span class="va">subunits</span><span class="op">$</span><span class="va">subunit</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">subitems</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">unit</th>
<th align="left">subunit</th>
<th align="left">subunitRecoded</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">I01</td>
<td align="left">I01</td>
<td align="left">I01R</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="left">I05</td>
<td align="left">I05</td>
<td align="left">I05R</td>
</tr>
<tr class="odd">
<td align="left">12</td>
<td align="left">I12</td>
<td align="left">I12a</td>
<td align="left">I12aR</td>
</tr>
<tr class="even">
<td align="left">13</td>
<td align="left">I12</td>
<td align="left">I12b</td>
<td align="left">I12bR</td>
</tr>
<tr class="odd">
<td align="left">14</td>
<td align="left">I12</td>
<td align="left">I12c</td>
<td align="left">I12cR</td>
</tr>
</tbody>
</table>
<p><strong>unitrecodings</strong> contains the same information as the
values sheet, but for aggregated items. Here, the value on an item is
the aggregated number of correct subitems and the recode value gives a
threshold of how many subitems need to be solved to obtain a credit for
the item. In the example, I12 has 3 subitems, and one receives a credit
if all subitems are solved correctly.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">kable</span><span class="op">(</span><span class="va">inputMinimal</span><span class="op">$</span><span class="va">unitRecodings</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">unit</th>
<th align="left">value</th>
<th align="left">valueRecode</th>
<th align="left">valueType</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">I12</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">I12</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">I12</td>
<td align="left">2</td>
<td align="left">0</td>
<td align="left">vc</td>
</tr>
<tr class="even">
<td align="left">I12</td>
<td align="left">3</td>
<td align="left">1</td>
<td align="left">vc</td>
</tr>
<tr class="odd">
<td align="left">I12</td>
<td align="left">mbd</td>
<td align="left">mbd</td>
<td align="left">mbd</td>
</tr>
<tr class="even">
<td align="left">I12</td>
<td align="left">mir</td>
<td align="left">mir</td>
<td align="left">mir</td>
</tr>
<tr class="odd">
<td align="left">I12</td>
<td align="left">mbi</td>
<td align="left">mbi</td>
<td align="left">mbi</td>
</tr>
</tbody>
</table>
<p>The <strong>minimal use case</strong> is that each subitem
corresponds to an item. In this case, the value sheet contains all
information needed for recoding the items (apart from possibly renaming
the recoded items).</p>
</div>
</div>
<div class="section level2">
<h2 id="input-data">input data<a class="anchor" aria-label="anchor" href="#input-data"></a>
</h2>
<p>We have several overlapping booklets with several blocks in each
booklet. Moreover, there is a unique identifier for each person and some
additional information about each student like their gender or their
socioeconomic status. There is one data set per booklet. In order to
prepare the data, we need to construct one large data set.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># looking at the data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">inputDat</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 3</span></span>
<span><span class="co">#&gt;  $ booklet1:'data.frame':    100 obs. of  25 variables:</span></span>
<span><span class="co">#&gt;   ..$ ID   : chr [1:100] "person100" "person101" "person102" "person103" ...</span></span>
<span><span class="co">#&gt;   ..$ hisei: num [1:100] 49 NA 57 32 59 56 55 47 NA 50 ...</span></span>
<span><span class="co">#&gt;   ..$ I01  : chr [1:100] "1" "9" "3" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I02  : chr [1:100] "4" "4" "4" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I03  : chr [1:100] "1" "2" "2" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I04  : chr [1:100] "2" "2" "3" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I05  : chr [1:100] "0" "0" "0" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I06  : chr [1:100] "0" "9" "0" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I07  : chr [1:100] "2" "2" "2" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I08  : chr [1:100] "0" "1" "0" "0" ...</span></span>
<span><span class="co">#&gt;   ..$ I09  : chr [1:100] "2" "2" "2" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I10  : chr [1:100] "2" "1" "1" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I11  : chr [1:100] "4" "1" "3" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I12a : chr [1:100] "1" "0" "1" "0" ...</span></span>
<span><span class="co">#&gt;   ..$ I12b : chr [1:100] "0" "9" "0" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I12c : chr [1:100] "4" "1" "2" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I13  : chr [1:100] "9" "4" "9" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I14  : chr [1:100] "9" "4" "9" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I15  : chr [1:100] "9" "3" "9" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I16  : chr [1:100] "9" "2" "9" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I17  : chr [1:100] "9" "3" "9" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I18  : chr [1:100] "9" "1" "9" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I19  : chr [1:100] "9" "4" "9" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I20  : chr [1:100] "9" "1" "9" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I21  : chr [1:100] "9" "2" "9" "3" ...</span></span>
<span><span class="co">#&gt;  $ booklet2:'data.frame':    100 obs. of  25 variables:</span></span>
<span><span class="co">#&gt;   ..$ ID   : chr [1:100] "person200" "person201" "person202" "person203" ...</span></span>
<span><span class="co">#&gt;   ..$ hisei: num [1:100] 69 76 47 58 62 78 70 26 57 70 ...</span></span>
<span><span class="co">#&gt;   ..$ I08  : chr [1:100] "0" "0" "1" "0" ...</span></span>
<span><span class="co">#&gt;   ..$ I09  : chr [1:100] "2" "4" "1" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I10  : chr [1:100] "3" "1" "2" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I11  : chr [1:100] "4" "2" "1" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I12a : chr [1:100] "1" "0" "1" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I12b : chr [1:100] "1" "0" "1" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I12c : chr [1:100] "4" "3" "2" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I13  : chr [1:100] "4" "2" "1" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I14  : chr [1:100] "3" "4" "2" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I15  : chr [1:100] "4" "1" "4" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I16  : chr [1:100] "4" "3" "3" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I17  : chr [1:100] "4" "1" "2" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I18  : chr [1:100] "1" "4" "3" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I19  : chr [1:100] "2" "1" "4" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I20  : chr [1:100] "4" "9" "2" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I21  : chr [1:100] "2" "9" "2" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I22  : chr [1:100] "1" "9" "2" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I23  : chr [1:100] "9" "9" "2" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I24  : chr [1:100] "1" "9" "3" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I25  : chr [1:100] "1" "9" "0" "0" ...</span></span>
<span><span class="co">#&gt;   ..$ I26  : chr [1:100] "9" "9" "1" "0" ...</span></span>
<span><span class="co">#&gt;   ..$ I27  : chr [1:100] "0" "9" "1" "0" ...</span></span>
<span><span class="co">#&gt;   ..$ I28  : chr [1:100] "1" "9" "1" "0" ...</span></span>
<span><span class="co">#&gt;  $ booklet3:'data.frame':    100 obs. of  23 variables:</span></span>
<span><span class="co">#&gt;   ..$ ID   : chr [1:100] "person300" "person301" "person302" "person303" ...</span></span>
<span><span class="co">#&gt;   ..$ hisei: num [1:100] 49 NA 57 32 59 56 55 47 NA 50 ...</span></span>
<span><span class="co">#&gt;   ..$ I01  : chr [1:100] "2" "3" "2" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I02  : chr [1:100] "4" "3" "3" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I03  : chr [1:100] "3" "1" "1" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I04  : chr [1:100] "1" "3" "1" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I05  : chr [1:100] "0" "1" "1" "0" ...</span></span>
<span><span class="co">#&gt;   ..$ I06  : chr [1:100] "9" "1" "0" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I07  : chr [1:100] "8" "2" "2" "1" ...</span></span>
<span><span class="co">#&gt;   ..$ I15  : chr [1:100] "3" "9" "9" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I16  : chr [1:100] "1" "3" "3" "3" ...</span></span>
<span><span class="co">#&gt;   ..$ I17  : chr [1:100] "4" "4" "4" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I18  : chr [1:100] "4" "4" "4" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I19  : chr [1:100] "2" "9" "9" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I20  : chr [1:100] "3" "4" "2" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ I21  : chr [1:100] "3" "2" "2" "2" ...</span></span>
<span><span class="co">#&gt;   ..$ I22  : chr [1:100] "3" "4" "4" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I23  : chr [1:100] "3" "1" "1" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I24  : chr [1:100] "1" "1" "1" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I25  : chr [1:100] "0" "1" "9" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I26  : chr [1:100] "1" "0" "9" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I27  : chr [1:100] "0" "9" "9" "9" ...</span></span>
<span><span class="co">#&gt;   ..$ I28  : chr [1:100] "0" "9" "9" "9" ...</span></span></code></pre></div>
<div class="section level3">
<h3 id="getting-the-data">Getting the Data<a class="anchor" aria-label="anchor" href="#getting-the-data"></a>
</h3>
<p>To do this, we first need to get the information from our IQB data
bank via ZKDeamon, or alternatively via SPSS.</p>
<div class="section level4">
<h4 id="readdeamonxlsx">readDeamonXlsx<a class="anchor" aria-label="anchor" href="#readdeamonxlsx"></a>
</h4>
</div>
<div class="section level4">
<h4 id="readmerkmalxlsx">readMerkmalXlsx<a class="anchor" aria-label="anchor" href="#readmerkmalxlsx"></a>
</h4>
</div>
<div class="section level4">
<h4 id="readspss">readSpss<a class="anchor" aria-label="anchor" href="#readspss"></a>
</h4>
<!-- what about showing the functions readDeamonXlsx(), readMerkmalXlsx() and readSpss? their example .xlsx files are in inst/extdata. but there already is `inputDat`.

usual workflow: reading in .xlsx (Deamon, Merkmal, SPSS), checking the data, merging the data (mergeData()) to one data set.

1 readDeamonXlsx/MerkmalXlsx
2 readSpss

-->
</div>
</div>
<div class="section level3">
<h3 id="checking-data">Checking Data<a class="anchor" aria-label="anchor" href="#checking-data"></a>
</h3>
<!-- by using checkData() for missings, duplicated entries, invalid codes. 
and checkDesign() for rotated block design of the df 

3 checkData, checkDesign
-->
</div>
<div class="section level3">
<h3 id="merging-data">Merging Data<a class="anchor" aria-label="anchor" href="#merging-data"></a>
</h3>
<!-- 4 mergeData -->
</div>
</div>
<div class="section level2">
<h2 id="recode">Recode<a class="anchor" aria-label="anchor" href="#recode"></a>
</h2>
</div>
<div class="section level2">
<h2 id="aggregate">Aggregate<a class="anchor" aria-label="anchor" href="#aggregate"></a>
</h2>
</div>
<div class="section level2">
<h2 id="score">Score<a class="anchor" aria-label="anchor" href="#score"></a>
</h2>
</div>
<div class="section level2">
<h2 id="collapse">Collapse<a class="anchor" aria-label="anchor" href="#collapse"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Karoline A. Sachse, Nicole Mahler, Philipp Franikowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
