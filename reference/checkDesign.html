<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check Datasets for Deviations From Test Design — checkDesign • eatPrep</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Check Datasets for Deviations From Test Design — checkDesign"><meta name="description" content="This function checks whether a data frame corresponds to a particular rotated block design, i.e. whether all persons have valid codes on all items they were presented with and one consistent missing code for all items they were not presented with."><meta property="og:description" content="This function checks whether a data frame corresponds to a particular rotated block design, i.e. whether all persons have valid codes on all items they were presented with and one consistent missing code for all items they were not presented with."><meta property="og:image" content="https://sachseka.github.io/eatPrep/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eatPrep</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Check Datasets for Deviations From Test Design</h1>

      <div class="d-none name"><code>checkDesign.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function checks whether a data frame corresponds to a particular rotated block design, i.e. whether all persons have valid codes on all items they were presented with and one consistent missing code for all items they were not presented with.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">checkDesign</span><span class="op">(</span><span class="va">dat</span>, <span class="va">booklets</span>, <span class="va">blocks</span>, <span class="va">rotation</span>, sysMis<span class="op">=</span><span class="st">"NA"</span>, id<span class="op">=</span><span class="st">"ID"</span>,</span>
<span>    subunits <span class="op">=</span> <span class="cn">NULL</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>A data frame</p></dd>

  <dt id="arg-booklets">booklets<a class="anchor" aria-label="anchor" href="#arg-booklets"></a></dt>
<dd><p>A data frame containing information about the number of blocks in each booklet and the names of these blocks with column names 'subunit', 'block', 'subunitBlockPosition'. See ‘Examples’.</p></dd>

  <dt id="arg-blocks">blocks<a class="anchor" aria-label="anchor" href="#arg-blocks"></a></dt>
<dd><p>A data frame containing the names of subunits and their order within each block with column names 'booklet', 'block1', 'block2' ... etc. See ‘Examples’.</p></dd>

  <dt id="arg-rotation">rotation<a class="anchor" aria-label="anchor" href="#arg-rotation"></a></dt>
<dd><p>A data frame containing information about which participant worked on which booklet with column names [id as specified above], 'booklet'. See ‘Examples’.</p></dd>

   <dt id="arg-sysmis">sysMis<a class="anchor" aria-label="anchor" href="#arg-sysmis"></a></dt>
<dd><p>A character vector of length 1 indicating the missing code for items that were not administered to a participant. Default is "NA".</p></dd>

  <dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>A character vector of length 1 indicating the name of the participant identifier variable in <code>dat</code>. Default is <code>ID</code>.</p></dd>

  	<dt id="arg-subunits">subunits<a class="anchor" aria-label="anchor" href="#arg-subunits"></a></dt>
<dd><p>Optional: A data frame with subunit information (c.f. <code><a href="inputList.html">inputList</a></code>). This data frame is used to identify the names of recoded subunits.</p></dd>

	  <dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical. If <code>FALSE</code>, no information is printed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Karoline Sachse, Philipp Franikowski</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">inputDat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">inputList</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prepDat</span> <span class="op">&lt;-</span> <span class="fu"><a href="automateDataPreparation.html">automateDataPreparation</a></span> <span class="op">(</span>inputList <span class="op">=</span> <span class="va">inputList</span>, datList <span class="op">=</span> <span class="va">inputDat</span>,</span></span>
<span class="r-in"><span>    readSpss <span class="op">=</span> <span class="cn">FALSE</span>, checkData <span class="op">=</span> <span class="cn">FALSE</span>, mergeData <span class="op">=</span> <span class="cn">TRUE</span>, recodeData <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    aggregateData <span class="op">=</span> <span class="cn">FALSE</span>, scoreData <span class="op">=</span> <span class="cn">FALSE</span>, writeSpss <span class="op">=</span> <span class="cn">FALSE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting automateDataPreparation 2024-12-11 18:38:52.254575</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Check has been skipped.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Start merging.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Start merging of dataset 1.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Start merging of dataset 2.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Start merging of dataset 3.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Start adding mbd according to data pattern.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Start recoding.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Found no recode information for variable(s): </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ID, hisei. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This/These variable(s) will not be recoded.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Variables... I01, I02, I03, I04, I05, I06, I07, I08, I09, I10, I11, I12a, I12b, I12c, I13, I14, I15, I16, I17, I18, I19, I20, I21, I22, I23, I24, I25, I26, I27, I28</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ...have been recoded.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> RecodeMnr has been skipped.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Aggregate has been skipped.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Scoring has been skipped.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No SPSS-File has been written.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Missings are UNcollapsed.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> automateDataPreparation terminated successfully! 2024-12-11 18:38:52.363025</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">checkDesign</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">prepDat</span>, booklets <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">booklets</span>, blocks <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">blocks</span>,</span></span>
<span class="r-in"><span>    rotation <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">rotation</span>, sysMis <span class="op">=</span> <span class="st">"mbd"</span>, id<span class="op">=</span><span class="st">"ID"</span>,</span></span>
<span class="r-in"><span>    subunits <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">subunits</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Check:</span> Subunit recoding </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use names for recoded subunits.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Check:</span> Variables in the dataset </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> The following 1 variable is not in info (`subunit` in <span style="color: #00BB00;">blocks</span>) but in dataset.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> It will be ignored during check: `hisei`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Check:</span> Valid and missing codes </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> No deviations from design detected!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prepDat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span>,<span class="st">"I22R"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"1"</span></span></span>
<span class="r-in"><span><span class="va">prepDat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I01R"</span>,<span class="st">"I02R"</span>,<span class="st">"I03R"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"mbd"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">checkDesign</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">prepDat</span>, booklets <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">booklets</span>, blocks <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">blocks</span>,</span></span>
<span class="r-in"><span>    rotation <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">rotation</span>, sysMis <span class="op">=</span> <span class="st">"mbd"</span>, id<span class="op">=</span><span class="st">"ID"</span>,</span></span>
<span class="r-in"><span>    subunits <span class="op">=</span> <span class="va">inputList</span><span class="op">$</span><span class="va">subunits</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Check:</span> Subunit recoding </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use names for recoded subunits.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Check:</span> Variables in the dataset </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> The following 1 variable is not in info (`subunit` in <span style="color: #00BB00;">blocks</span>) but in dataset.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> It will be ignored during check: `hisei`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Check:</span> Valid and missing codes </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Deviations from design detected!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> Found for 3 subunits sysMis instead of valid codes for booklet `booklet1`:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> I01R, I02R, and I03R</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> I01R, I02R, I03R (4 cases): person100, person101, person102, person103</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> Found for 1 subunit valid codes instead of sysMis for booklet `booklet1`:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> I22R</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> I22R (7 cases): person100, person101, person102, person103, person104, person105, person106</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Karoline A. Sachse, Nicole Mahler, Philipp Franikowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

